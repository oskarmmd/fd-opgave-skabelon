---
import { Image } from "astro:assets";
import IconInstagram from "@icons/instagram.svg";
import IconFacebook from "@icons/facebook.svg";
import IconTwitter from "@icons/twitter.svg";

const { employee, image, highlight = false } = Astro.props;
---

<article
  class="card"
  role="link"
  tabindex="0"
  onclick={`window.location.href='/team/${employee.slug}'`}
>
  <div class="imgWrap">
    <Image src={image} alt={employee.name} class="img" />
    <span class={`badge ${highlight ? "is-yellow" : "is-dark"}`}>
      {employee.title}
    </span>
  </div>

  <h3 class="name">{employee.name}</h3>
  <p class="desc">{employee.description}</p>

  <div class="icons" aria-label="Social links">
    <a aria-label="Instagram"><IconInstagram /></a>
    <a  aria-label="Facebook"><IconFacebook /></a>
    <a  aria-label="Twitter"><IconTwitter /></a>
  </div>
</article>

<style>
  @layer components {
    .card{
      text-align: center;
      display: grid;
      gap: 10px;
      justify-items: center;
    }

    .imgWrap{
      position: relative;
      width: 100%;
      max-width: 340px;
      aspect-ratio: 1 / 1;
      border-radius: 18px;
      overflow: hidden;
      background: #eee;
    }

    .img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .badge{
      position: absolute;
      right: 14px;
      bottom: 14px;
      padding: 7px 14px;
      border-radius: 999px;
      font-size: 12px;
      line-height: 1;
      font-weight: 600;
      box-shadow: 0 10px 24px rgba(0,0,0,.12);
      white-space: nowrap;
    }

    .badge.is-yellow{
      background: var(--primary-yellow, #f6d36b);
      color: #111;
    }

    .badge.is-dark{
      background: rgba(17,17,17,.9);
      color: #fff;
    }

    .name{
      margin: 8px 0 0;
      font-size: 22px;
      font-weight: 800;
      color: #111;
    }

    .desc{
      margin: 0;
      max-width: 34ch;
      font-size: 12px;
      line-height: 1.6;
      color: #6b7280;
    }

    .icons{
      margin-top: 6px;
      display: flex;
      gap: 14px;
      justify-content: center;
      align-items: center;
    }

    .icons a{
      display: grid;
      place-items: center;
    }

   

    .icons :global(svg){
      width: 18px;
      height: 18px;
      display: block;
    }
  }
</style>


